{% extends 'base.html' %}
{% block title %}
{% load static %}
<title>Electric Daily Log - ONGC</title>
<link rel="stylesheet" type="text/css" media="screen" href="{% static 'Styles\electrical_multi_step.css' %}">
{% endblock %}

{% block content %}
<!-- SECTION -->
<section class="p-5">
  <div class="container">
     <div class="row justify-content-center align-items-center h-100">

        <h2 class="text-center pb-3">
           ELECTRICAL DAILY LOG SHEET
        </h2>

        <!-- Form Steps / Progress Bar -->
        <div class="container">
           <ul class="form-stepper form-stepper-horizontal text-center mx-auto pl-0">
              <!-- Step 1 -->
              <li class="form-stepper-active text-center form-stepper-list" step="1">
                 <a class="mx-2 link-light">
                    <span class="form-stepper-circle">
                    <span>1</span>
                    </span>
                    <div class="label">Rig Details</div>
                 </a>
              </li>

              <!-- Step 3 -->
              <li class="form-stepper-unfinished text-center form-stepper-list" step="2">
                 <a class="mx-2 link-light">
                    <span class="form-stepper-circle text-muted">
                    <span>2</span>
                    </span>
                    <div class="label text-muted">Equipment Details</div>
                 </a>
              </li>
           </ul>
        </div>


        <!-- Step Wise Form Content -->
        <form  method="POST" action="{% url 'electrical-log' %}" enctype="multipart/form-data" id="userAccountSetupForm" name="userAccountSetupForm">
           {% csrf_token %}


           <!-- Step 1 Content -->
           <section id="step-1" class="form-step bg-light text-dark">
              <!-- Step 1 input fields -->
              <div class="row align-items-start">
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.doc_no.label }}</label>
                    {{ form.doc_no }}
                 </div>
                 <br />
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.well.label }}</label>
                    {{ form.well }}
                 </div>
                 <br />
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.rig_name.label }}</label>
                    {{ form.rig_name }}
                 </div>
                 <br />
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.location.label }}</label>
                    {{ form.location }}
                 </div>
                 <br />
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.date.label }}</label>
                    {{ form.date }}
                 </div>
              </div>
              <br />
              <button class="button btn-navigate-form-step" type="button" step_number="2">Next</button>
           </section>


           <!-- Step 3 Content, default hidden on page load. -->
           <section id="step-2" class="form-step d-none bg-light text-dark">
              {{ electrical_shift_formset.management_form }}
              {% for form in electrical_shift_formset %}
              <!-- Step 3 input fields -->
              <div class="row align-items-start">
                 <div class="col-4 offset-4 my-2">
                    <label class="form-label select-label">{{ form.shifttype.label }}</label>
                    {{ form.shifttype }}
                 </div>
              </div>


              <div class="row align-items-start py-2">
                 <div class="col-6 my-2">
                    <label class="form-label select-label">{{ form.equipdetails.label }}</label>
                    {{ form.equipdetails }}
                 </div>
                 <div class="col-6 my-2">
                    <label class="form-label select-label">{{ form.equipstatus.label }}</label>
                    {{ form.equipstatus }}
                 </div>
              </div>


              <div class="row align-items-start py-2">
                 <div class="col-6 my-2">
                    <label class="form-label">{{ form.runninghours_prev.label }}</label>
                    {{ form.runninghours_prev }}
                 </div>
                 <div class="col-6 my-2">
                    <label class="form-label">{{ form.runninghours.label }}</label>
                    {{ form.runninghours }}
                 </div>
              </div>


              <div class="row align-items-start py-2">
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.breakfrom.label }}</label>
                    {{ form.breakfrom }}
                 </div>
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.breakto.label }}</label>
                    {{ form.breakto }}
                 </div>
                 <div class="col-4 my-2">
                    <label class="form-label">{{ form.totalcummulative.label }}</label>
                    {{ form.totalcummulative }}
                 </div>
              </div>


              <div class="row align-items-start py-2">
                 <div class="col-6 my-2">
                    <label class="form-label">{{ form.remarks.label }}</label>
                    {{ form.remarks }}
                 </div>
                 <div class="col-6 my-2">
                    <label class="form-label">{{ form.equipment.label }}</label>
                    {{ form.equipment }}
                 </div>
              </div>


              <div class="row align-items-start py-2">
                 <span>Energy/Meter Reading at 06:00 hrs on:</span>
                 <div class="col-3 my-2">
                    <label class="form-label select-label">{{ form.energydg1.label }}</label>
                    {{ form.energydg1 }}
                 </div>
                 <div class="col-3 my-2">
                    <label class="form-label select-label">{{ form.energydg2.label }}</label>
                    {{ form.energydg2 }}
                 </div>
                 <div class="col-3 my-2">
                    <label class="form-label select-label">{{ form.energydg3.label }}</label>
                    {{ form.energydg3 }}
                 </div>
                 <div class="col-3 my-2">
                    <label class="form-label select-label">{{ form.energydg4.label }}</label>
                    {{ form.energydg4 }}
                 </div>
              </div>


              <div class="row align-items-start py-2">
                 <div class="col-6 my-2">
                    <label class="form-label">{{ form.job.label }}</label>
                    {{ form.job }}
                 </div>
                 <div class="col-6 my-2">
                    <label class="form-label select-label">{{ form.safetyreport.label }}</label>
                    {{ form.safetyreport }}
                 </div>
              </div>

              
              {% endfor %}

              <br />
              <button class="button btn-navigate-form-step" type="button" step_number="1">Prev</button>
              <button class="button submit-btn" type="submit">Save</button>

           </section>
        </form>
     </div>
  </div>
</section>

{% endblock %}