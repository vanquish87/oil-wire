{% extends 'base.html' %}
<!-- for underscore problem of django -->
{% load search_extra %}
{% block title %}
<title>Drill Mud Log - ONGC</title>
{% endblock %}

{% block content %}
<!-- showcase -->
<!-- in bootstrap 5 we can do CSS right into classes n adjust accoordingly -->
<section id="main" class="bg-light text-dark py-5 text-center">
    <!-- for symmetry from top to bottom on page I am using a container -->
    <div class="container-sm">
        <div class="row justify-content-around align-items-center text-center">
            <div class="col-md-8">
                <form class="form" action="{% url 'search' %}" method="get">
                    {% csrf_token %}
                    <!-- Input:Text -->
                    <div class="mb-3">
                        <input type="text" name="search_query" class="form-control" placeholder="Search ONGC files" value="{{ search_query }}" />
                    </div>
                    <input type="submit" class="btn btn-success" value="Search" />
                </form>

            </div>
        </div>
    </div>
</section>

{% if results != '' %}
<!-- search results -->
<hr>
<section id="main" class="bg-white text-dark py-5">
    <!-- for symmetry from top to bottom on page I am using a container -->
    <div class="container-sm">
        <div class="row">
            <div class="col-md-12">

            {% for i in results %}
            <h3 class="m-4"><a href="{% url 'viewer' ocrfilepath=i.ocr_url %}?&search=LLP" target="_blank">{{ i.filename }}</a></h3>
            <p>{{ i.snippet }}...</p>
            <p>{{ i.ocr_url }}</p>

            {% endfor %}

            </div>
        </div>
    </div>
</section>

{% endif %}

{% endblock %}



{% if response.hits.hits %}
{% for i in response.hits.hits %}

{{ i }}

<!-- for underscore problem of django -->
<h3><a href="#">{{ i | get:"_index" }}</a></h3>
<a href="#">{{ i | get:"_ignored" }}</a>
<p>{{ i | get:"_source['ocrfilepath']" }}</p>

{% endfor %}
{% else %}
<p>No results found</p>
{% endif %}


